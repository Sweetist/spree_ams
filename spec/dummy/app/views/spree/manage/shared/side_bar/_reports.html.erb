<% report_controllers = current_controller?([ 'customers_reports',
                                              'products_reports',
                                              'total_sales_reports',
                                              'productions',
                                              'packing_lists',
                                              'inventory_reports' ]) %>
<li class="nav-item <%= "active open" if report_controllers %>">
  <a href="#" class="nav-link nav-toggle">
    <i class="fa fa-line-chart"></i>
    <span class="title">Reports</span>
    <span class="arrow <%= "open" if report_controllers %>"></span>
  </a>
  <ul class="sub-menu">
    <% if current_spree_user.can_read?('basic_options', 'reports') %>
      <li class="nav-item <%= "active" if current_controller?(['total_sales_reports']) %>">
        <%= link_to manage_total_sales_report_path, class: "nav-link" do %>
          <span class="title">Total Sales</span>
        <% end %>
      </li>
      <li class="nav-item <%= "active" if current_controller?(['customers_reports']) %>">
        <%= link_to manage_customers_report_path, class: "nav-link" do %>
          <span class="title">Customer Sales</span>
        <% end %>
      </li>
      <li class="nav-item <%= "active" if current_controller?(['products_reports']) %>">
        <%= link_to manage_products_report_path, class: "nav-link" do %>
          <span class="title">Product Sales</span>
        <% end %>
      </li>
    <% else %>
      <li class="nav-item">
        <%= link_to 'void:javascript();', class: "nav-link" do %>
          <span class="title">Total Sales</span>
          <i class='fa fa-lock'></i>
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to 'void:javascript();', class: "nav-link" do %>
          <span class="title">Customer Sales</span>
          <i class='fa fa-lock'></i>
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to 'void:javascript();', class: "nav-link" do %>
          <span class="title">Product Sales</span>
          <i class='fa fa-lock'></i>
        <% end %>
      </li>
    <% end %>
    <% if current_spree_user.can_read?('production_reports', 'reports') %>
      <li class="nav-item <%= "active" if current_controller?(['productions']) && current_action?('show') %>">
        <%= link_to manage_production_path, class: "nav-link" do %>
          <span class="title">Production</span>
        <% end %>
      </li>
      <li class="nav-item <%= "active" if current_controller?(['productions']) && current_action?('by_customer') %>">
        <%= link_to manage_production_by_customer_path, class: "nav-link" do %>
          <span class="title">Production by Customer</span>
        <% end %>
      </li>
      <li class="nav-item <%= "active" if current_controller?(['packing_lists']) %>">
        <%= link_to manage_packing_list_path, class: "nav-link" do %>
          <span class="title">Packing List</span>
        <% end %>
      </li>
      <li class="nav-item <%= "active" if current_controller?(['inventory_reports']) && current_action?('detail_report') %>">
        <%= link_to manage_inventory_detail_report_path, class: "nav-link" do %>
          <span class="title">Inventory Detail</span>
        <% end %>
      </li>
      <li class="nav-item <%= "active" if current_controller?(['inventory_reports']) && current_action?('summary_report') %>">
        <%= link_to manage_inventory_summary_report_path, class: "nav-link" do %>
          <span class="title">Inventory Summary</span>
        <% end %>
      </li>
    <% else %>
      <li class="nav-item">
        <%= link_to 'void:javascript();', class: "nav-link" do %>
          <span class="title">Production</span>
          <i class='fa fa-lock'></i>
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to 'void:javascript();', class: "nav-link" do %>
          <span class="title">Production by Customer</span>
          <i class='fa fa-lock'></i>
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to 'void:javascript();', class: "nav-link" do %>
          <span class="title">Packing List</span>
          <i class='fa fa-lock'></i>
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to 'void:javascript();', class: "nav-link" do %>
          <span class="title">Inventory Detail</span>
          <i class='fa fa-lock'></i>
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to 'void:javascript();', class: "nav-link" do %>
          <span class="title">Inventory Summary</span>
          <i class='fa fa-lock'></i>
        <% end %>
      </li>
    <% end %>
  </ul>
</li>
